{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Actor Summary Schema",
  "description": "Summary index of all actors (stakeholders) for quick lookups and capability validation. Actors represent people, organizations, or systems that interact with capabilities.",
  "schemaVersion": "1.0.0",
  "type": "object",
  "required": [
    "version",
    "actors",
    "indexByType",
    "summary"
  ],
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version for actor summary",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "actors": {
      "type": "array",
      "description": "List of all actors with their metadata",
      "items": {
        "type": "object",
        "required": [
          "actorId",
          "name",
          "type",
          "domain"
        ],
        "properties": {
          "actorId": {
            "type": "string",
            "description": "Actor identifier (kebab-case, e.g., 'lot-owner', 'strata-manager')",
            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
          },
          "name": {
            "type": "string",
            "description": "Human-readable actor name (title-cased)"
          },
          "type": {
            "type": "string",
            "description": "Type of actor",
            "enum": [
              "person",
              "organization",
              "system",
              "role",
              "regulatory-body"
            ]
          },
          "domain": {
            "type": "string",
            "description": "Organizational domain this actor belongs to",
            "enum": [
              "Ownership & Governance",
              "External Service & Professional",
              "Regulatory & Adjudicative",
              "Industry & Non-Government"
            ]
          },
          "description": {
            "type": "string",
            "description": "Brief description of the actor's role and responsibilities"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the actor was added to the registry"
          }
        }
      }
    },
    "indexByType": {
      "type": "object",
      "description": "Index for quickly finding actors by type. Keys are actor types, values are arrays of actor IDs.",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string",
          "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
        }
      }
    },
    "indexByDomain": {
      "type": "object",
      "description": "Index for quickly finding actors by organizational domain. Keys are domain names, values are arrays of actor IDs.",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string",
          "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
        }
      }
    },
    "summary": {
      "type": "object",
      "description": "Aggregated statistics across all actors",
      "required": [
        "totalActors",
        "actorsByType",
        "actorsByDomain"
      ],
      "properties": {
        "totalActors": {
          "type": "integer",
          "description": "Total number of actors in the registry",
          "minimum": 0
        },
        "actorsByType": {
          "type": "object",
          "description": "Count of actors by type",
          "additionalProperties": {
            "type": "integer",
            "minimum": 0
          }
        },
        "actorsByDomain": {
          "type": "object",
          "description": "Count of actors by organizational domain",
          "additionalProperties": {
            "type": "integer",
            "minimum": 0
          }
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 datetime when this summary was last updated"
        }
      }
    }
  },
  "examples": [
    {
      "version": "1.0.0",
      "actors": [
        {
          "actorId": "lot-owner",
          "name": "Lot Owner",
          "type": "role",
          "domain": "Ownership & Governance",
          "description": "Individual who owns a lot/unit in a strata scheme",
          "createdAt": "2025-01-01T00:00:00Z"
        },
        {
          "actorId": "strata-manager",
          "name": "Strata Manager",
          "type": "organization",
          "domain": "External Service & Professional",
          "description": "Professional service provider managing strata operations",
          "createdAt": "2025-01-01T00:00:00Z"
        },
        {
          "actorId": "ncat",
          "name": "NCAT",
          "type": "regulatory-body",
          "domain": "Regulatory & Adjudicative",
          "description": "NSW Civil and Administrative Tribunal - dispute resolution body",
          "createdAt": "2025-01-01T00:00:00Z"
        }
      ],
      "indexByType": {
        "role": ["lot-owner"],
        "organization": ["strata-manager"],
        "regulatory-body": ["ncat"]
      },
      "indexByDomain": {
        "Ownership & Governance": ["lot-owner"],
        "External Service & Professional": ["strata-manager"],
        "Regulatory & Adjudicative": ["ncat"]
      },
      "summary": {
        "totalActors": 3,
        "actorsByType": {
          "role": 1,
          "organization": 1,
          "regulatory-body": 1
        },
        "actorsByDomain": {
          "Ownership & Governance": 1,
          "External Service & Professional": 1,
          "Regulatory & Adjudicative": 1
        },
        "lastUpdated": "2025-01-01T00:00:00Z"
      }
    }
  ]
}
