# ═══════════════════════════════════════════════════════════════════════════
# SCHEMA: project-info.toon
# ═══════════════════════════════════════════════════════════════════════════
# Single project environment snapshot - tracks project metadata, dependencies,
# and current state. Generated by orchestrator plugin via /orchestrator:setup.
#
# ═══════════════════════════════════════════════════════════════════════════
# SCHEMA METADATA
# ═══════════════════════════════════════════════════════════════════════════
#
# $schema: shared/schemas/project-info-schema.toon
# $instance: .claude/project-info.toon
# $generator: /orchestrator:setup
# $version: 1.0.0
#
# ═══════════════════════════════════════════════════════════════════════════
# TYPE NOTATION
# ═══════════════════════════════════════════════════════════════════════════
#
#   →const           Fixed value, copy exactly as shown
#   →string          Text value
#   →string?         Optional text (can be null)
#   →int             Integer number
#   →datetime        ISO-8601 timestamp (e.g., 2025-01-15T10:00:00Z)
#   →url?            Optional URL
#   →path?           Optional relative file path
#   →enum[Name]      One of the values in ENUMS section
#
# ═══════════════════════════════════════════════════════════════════════════

# ─── METADATA ──────────────────────────────────────────────────────────────

@context: https://schema.org                    # →const
@type: SoftwareSourceCode                       # →const
@id: project/my-project                         # →string (pattern: project/{name})
dateCreated: 2025-01-15T10:00:00Z               # →datetime (immutable after creation)
dateModified: 2025-12-07T14:30:00Z              # →datetime (auto-updated on save)
softwareVersion: 1.0.0                          # →string (orchestrator plugin version)

# ─── PROJECT ──────────────────────────────────────────────────────────────

project@type: SoftwareSourceCode                # →const
project.name: my-project                        # →string (required, project name)
project.description: A sample project           # →string? (from package.json/pyproject.toml)
project.version: 1.0.0                          # →string? (from package.json/pyproject.toml)
project.technology: typescript                  # →enum[TechnologyType]
project.entryPoint: src/index.ts                # →path? (main entry file)

# ─── REPOSITORY ───────────────────────────────────────────────────────────

repository@type: CodeRepository                 # →const
repository.url: https://github.com/user/repo    # →url?
repository.branch: main                         # →string? (current branch)
repository.version: abc1234                     # →string? (short git commit hash)
repository.dateModified: 2025-12-07T10:00:00Z   # →datetime? (commit timestamp)

# ─── DEPENDENCIES ─────────────────────────────────────────────────────────

dependencies@type: ItemList                     # →const
dependencies.numberOfItems: 10                  # →int (production dependencies count)
devDependencies.numberOfItems: 5                # →int (dev dependencies count)

# ─── IDE INTEGRATION ──────────────────────────────────────────────────────

ide@type: SoftwareApplication                   # →const
ide.name: VS Code                               # →string ("none" if no IDE detected)
ide.configPath: .vscode/                        # →path?

# ─── SESSION TRACKING ─────────────────────────────────────────────────────

lastSession.id: null                            # →string?
lastSession.timestamp: null                     # →datetime?
lastSession.event: null                         # →string? (hook event name)


# ═══════════════════════════════════════════════════════════════════════════
# ENUMS
# ═══════════════════════════════════════════════════════════════════════════

# TechnologyType (detected from project markers):
#   typescript      - package.json with typescript
#   javascript      - package.json without typescript
#   python          - pyproject.toml or requirements.txt
#   rust            - Cargo.toml
#   go              - go.mod
#   java            - pom.xml or build.gradle
#   flutter         - pubspec.yaml
#   dotnet          - *.csproj
#   unknown         - No recognized markers


# ═══════════════════════════════════════════════════════════════════════════
# GENERATION RULES
# ═══════════════════════════════════════════════════════════════════════════
#
# 1. Fields marked →const MUST be copied exactly as shown
# 2. Fields marked TYPE? can be null - write as: fieldName: null
# 3. Update dateModified on every save
# 4. project.name defaults to directory basename if not in config
# 5. repository fields are null if not a git repository
# 6. ide.name is "none" if no IDE config directory found
#
# ═══════════════════════════════════════════════════════════════════════════
